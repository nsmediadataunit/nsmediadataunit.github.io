var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function i(t){return t()}function r(){return Object.create(null)}function o(t){t.forEach(i)}function a(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,...e){const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function u(t,e,n){t.$$.on_destroy.push(l(e,n))}function c(t,e,n,i){if(t){const r=h(t,e,n,i);return t[0](r)}}function h(t,e,i,r){return t[1]&&r?n(i.ctx.slice(),t[1](r(e))):i.ctx}function d(t,e,n,i){if(t[2]&&i){const r=t[2](i(n));if("object"==typeof e.dirty){const t=[],n=Math.max(e.dirty.length,r.length);for(let i=0;i<n;i+=1)t[i]=e.dirty[i]|r[i];return t}return e.dirty|r}return e.dirty}const f="undefined"!=typeof window;let g=f?()=>window.performance.now():()=>Date.now(),p=f?t=>requestAnimationFrame(t):t;const m=new Set;function y(t){m.forEach(e=>{e.c(t)||(m.delete(e),e.f())}),0!==m.size&&p(y)}function v(t){let e;return 0===m.size&&p(y),{promise:new Promise(n=>{m.add(e={c:t,f:n})}),abort(){m.delete(e)}}}function w(t,e){t.appendChild(e)}function x(t,e,n){t.insertBefore(e,n||null)}function b(t){t.parentNode.removeChild(t)}function $(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function M(t){return document.createElement(t)}function k(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function _(t){return document.createTextNode(t)}function N(){return _(" ")}function A(){return _("")}function E(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function z(t,e){e=""+e,t.data!==e&&(t.data=e)}function R(t,e,n,i){t.style.setProperty(e,n,i?"important":"")}function S(t,e,n){t.classList[n?"add":"remove"](e)}function P(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}let C,I,D=0,H={};function T(t,e,n,i,r,o,a,s=0){const l=16.666/i;let u="{\n";for(let t=0;t<=1;t+=l){const i=e+(n-e)*o(t);u+=100*t+`%{${a(i,1-i)}}\n`}const c=u+`100% {${a(n,1-n)}}\n}`,h=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(c)}_${s}`;if(!H[h]){if(!C){const t=M("style");document.head.appendChild(t),C=t.sheet}H[h]=!0,C.insertRule(`@keyframes ${h} ${c}`,C.cssRules.length)}const d=t.style.animation||"";return t.style.animation=`${d?`${d}, `:""}${h} ${i}ms linear ${r}ms 1 both`,D+=1,h}function B(t,e){t.style.animation=(t.style.animation||"").split(", ").filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")).join(", "),e&&!--D&&p(()=>{if(D)return;let t=C.cssRules.length;for(;t--;)C.deleteRule(t);H={}})}function O(t){I=t}function W(){if(!I)throw new Error("Function called outside component initialization");return I}function q(t){return W().$$.context.get(t)}const j=[],L=[],F=[],U=[],G=Promise.resolve();let Y,V=!1;function K(t){F.push(t)}function X(){const t=new Set;do{for(;j.length;){const t=j.shift();O(t),J(t.$$)}for(;L.length;)L.pop()();for(let e=0;e<F.length;e+=1){const n=F[e];t.has(n)||(n(),t.add(n))}F.length=0}while(j.length);for(;U.length;)U.pop()();V=!1}function J(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(K)}}function Z(t,e,n){t.dispatchEvent(P(`${e?"intro":"outro"}${n}`))}const Q=new Set;let tt;function et(){tt={r:0,c:[],p:tt}}function nt(){tt.r||o(tt.c),tt=tt.p}function it(t,e){t&&t.i&&(Q.delete(t),t.i(e))}function rt(t,e,n,i){if(t&&t.o){if(Q.has(t))return;Q.add(t),tt.c.push(()=>{Q.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}}const ot={duration:0};function at(n,i,r,s){let l=i(n,r),u=s?0:1,c=null,h=null,d=null;function f(){d&&B(n,d)}function p(t,e){const n=t.b-u;return e*=Math.abs(n),{a:u,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function m(i){const{delay:r=0,duration:a=300,easing:s=e,tick:m=t,css:y}=l||ot,w={start:g()+r,b:i};i||(w.group=tt,tt.r+=1),c?h=w:(y&&(f(),d=T(n,u,i,a,r,s,y)),i&&m(0,1),c=p(w,a),K(()=>Z(n,i,"start")),v(t=>{if(h&&t>h.start&&(c=p(h,a),h=null,Z(n,c.b,"start"),y&&(f(),d=T(n,u,c.b,c.duration,0,s,l.css))),c)if(t>=c.end)m(u=c.b,1-u),Z(n,c.b,"end"),h||(c.b?f():--c.group.r||o(c.group.c)),c=null;else if(t>=c.start){const e=t-c.start;u=c.a+c.d*s(e/c.duration),m(u,1-u)}return!(!c&&!h)}))}return{run(t){a(l)?(Y||(Y=Promise.resolve(),Y.then(()=>{Y=null})),Y).then(()=>{l=l(),m(t)}):m(t)},end(){f(),c=h=null}}}function st(t){t&&t.c()}function lt(t,e,n){const{fragment:r,on_mount:s,on_destroy:l,after_update:u}=t.$$;r&&r.m(e,n),K(()=>{const e=s.map(i).filter(a);l?l.push(...e):o(e),t.$$.on_mount=[]}),u.forEach(K)}function ut(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ct(t,e){-1===t.$$.dirty[0]&&(j.push(t),V||(V=!0,G.then(X)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ht(e,n,i,a,s,l,u=[-1]){const c=I;O(e);const h=n.props||{},d=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:s,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:r(),dirty:u};let f=!1;d.ctx=i?i(e,h,(t,n,...i)=>{const r=i.length?i[0]:n;return d.ctx&&s(d.ctx[t],d.ctx[t]=r)&&(d.bound[t]&&d.bound[t](r),f&&ct(e,t)),n}):[],d.update(),f=!0,o(d.before_update),d.fragment=!!a&&a(d.ctx),n.target&&(n.hydrate?d.fragment&&d.fragment.l(function(t){return Array.from(t.childNodes)}(n.target)):d.fragment&&d.fragment.c(),n.intro&&it(e.$$.fragment),lt(e,n.target,n.anchor),X()),O(c)}class dt{$destroy(){ut(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}var ft=[{index:"1",date:"2017",area:"England and Wales",source:"Office for National Statistics",link:"https://www.ons.gov.uk/peoplepopulationandcommunity/birthsdeathsandmarriages/deaths/datasets/infantmortalitybirthcohorttablesinenglandandwales",indicator:"Black children in Britain are more likely to die in infancy",unit:"Infant deaths per 100,000",black:"7",white:"3"},{index:"2",date:"2017",area:"United Kingdom",source:"MBRRACE-UK",link:"https://www.npeu.ox.ac.uk/mbrrace-uk/reports",indicator:"Black mothers in Britain die at five times the rate of white mothers",unit:"Maternal deaths per 100,000 pregnancies",black:"38",white:"7"},{index:"3",date:"2018",area:"England",source:"Department for Education",link:"https://www.gov.uk/government/statistics/key-stage-4-and-multi-academy-trust-performance-2018-revised",indicator:"Black children in Britain get poorer grades...",unit:"Percentage of each group getting a strong pass in English and maths GCSE",black:"39",white:"43"},{index:"4",date:"2019",area:"England",source:"Department for Education",link:"https://www.gov.uk/government/statistics/a-level-and-other-16-to-18-results-2018-to-2019-revised",indicator:"...and that gap gets bigger over time",unit:"Percentage of each group achieving 3 A*-A or better at A level",black:"6",white:"11"},{index:"5",date:"2019",area:"United Kingdom",source:"UCAS End of Cycle Report",link:"https://www.ucas.com/data-and-analysis/undergraduate-statistics-and-reports/ucas-undergraduate-end-cycle-reports/2019-end-cycle-report",indicator:"Black people in Britain get worse grades at higher education",unit:"Percentage of each group achieving first and upper second class honours",black:"57",white:"77"},{index:"6",date:"2019",area:"United Kingdom",source:"Office for National Statistics",link:"https://www.nomisweb.co.uk/query/select/getdatasetbytheme.asp?theme=28",indicator:"Black people in Britain are paid less",unit:"Percentage of those aged 16+ in each group in employment employed as managers, directors & senior officials",black:"6",white:"12"},{index:"7",date:"2018",area:"Great Britain",source:"Office for National Statistics",link:"https://www.ons.gov.uk/employmentandlabourmarket/peopleinwork/employmentandemployeetypes/methodologies/annualpopulationsurveyapsqmi",indicator:"Black people in Britain are twice as likely to be unemployed",unit:"Percentage of those economically active in each group who were unemployed",black:"9",white:"4"},{index:"8",date:"2019",area:"England",source:"Ministry of Housing, Communities & Local Government",link:"https://www.gov.uk/government/collections/english-housing-survey",indicator:"Black people in Britain are half as likely to own their home",unit:"Percentage of each group that owned their own home",black:"32",white:"66"},{index:"9",date:"2019",area:"England",source:"Ministry of Housing, Communities & Local Government",link:"https://www.gov.uk/government/collections/english-housing-survey",indicator:"Black people in Britain are more likely to be social renters",unit:"Percentage of each group that were social renters",black:"44",white:"16"},{index:"10",date:"2019",area:"England",source:"Sport England",link:"https://www.sportengland.org/activelivesapr20",indicator:"Black people in Britain are more likely to be overweight",unit:"Percentage of adults in each group who were overweight or obese",black:"73",white:"63"},{index:"11",date:"2019",area:"England",source:"NHS Digital",link:"https://digital.nhs.uk/data-and-information/data-collections-and-data-sets/data-sets/mental-health-services-data-set",indicator:"Poorer mental health or excessive detentions?",unit:"Detentions in each group under the Mental Health Act per 10,000",black:"31",white:"7"},{index:"12",date:"2019",area:"England",source:"Department for Digital, Culture, Media & Sport",link:"https://www.gov.uk/government/collections/community-life-survey--2",indicator:"Black people in Britain are less likely to feel like they belong",unit:"Percentage of those aged 16+ in each group who feel they belong to Britain",black:"75",white:"85"}];const gt=[];function pt(e,n=t){let i;const r=[];function o(t){if(s(e,t)&&(e=t,i)){const t=!gt.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),gt.push(n,e)}if(t){for(let t=0;t<gt.length;t+=2)gt[t][0](gt[t+1]);gt.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(a,s=t){const l=[a,s];return r.push(l),1===r.length&&(i=n(o)||t),a(e),()=>{const t=r.indexOf(l);-1!==t&&r.splice(t,1),0===r.length&&(i(),i=null)}}}}function mt(e,n,i){const r=!Array.isArray(e),s=r?[e]:e,u=n.length<2;return{subscribe:pt(i,e=>{let i=!1;const c=[];let h=0,d=t;const f=()=>{if(h)return;d();const i=n(r?c[0]:c,e);u?e(i):d=a(i)?i:t},g=s.map((t,e)=>l(t,t=>{c[e]=t,h&=~(1<<e),i&&f()},()=>{h|=1<<e}));return i=!0,f(),function(){o(g),d()}}).subscribe}}function yt(t){return 0===(e=t)||e?Array.isArray(t)?e=>t.map(t=>"function"!=typeof t?e[t]:t(e)):"function"!=typeof t?e=>e[t]:t:null;var e}function vt(t,e){return!0===Array.isArray(e)?e.map((e,n)=>null===e?t[n]:e):t}function wt(t){return function([e,n]){return e?vt(e[t],n):n}}function xt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var bt,$t,Mt=(1===(bt=xt).length&&($t=bt,bt=function(t,e){return xt($t(t),e)}),{left:function(t,e,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){var r=n+i>>>1;bt(t[r],e)<0?n=r+1:i=r}return n},right:function(t,e,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){var r=n+i>>>1;bt(t[r],e)>0?i=r:n=r+1}return n}}).right,kt=Math.sqrt(50),_t=Math.sqrt(10),Nt=Math.sqrt(2);function At(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=kt?10:o>=_t?5:o>=Nt?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=kt?10:o>=_t?5:o>=Nt?2:1)}function Et(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function zt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Rt(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function St(){}var Pt="\\s*([+-]?\\d+)\\s*",Ct="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",It="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Dt=/^#([0-9a-f]{3,8})$/,Ht=new RegExp("^rgb\\("+[Pt,Pt,Pt]+"\\)$"),Tt=new RegExp("^rgb\\("+[It,It,It]+"\\)$"),Bt=new RegExp("^rgba\\("+[Pt,Pt,Pt,Ct]+"\\)$"),Ot=new RegExp("^rgba\\("+[It,It,It,Ct]+"\\)$"),Wt=new RegExp("^hsl\\("+[Ct,It,It]+"\\)$"),qt=new RegExp("^hsla\\("+[Ct,It,It,Ct]+"\\)$"),jt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Lt(){return this.rgb().formatHex()}function Ft(){return this.rgb().formatRgb()}function Ut(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Dt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Gt(e):3===n?new Xt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?new Xt(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?new Xt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Ht.exec(t))?new Xt(e[1],e[2],e[3],1):(e=Tt.exec(t))?new Xt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Bt.exec(t))?Yt(e[1],e[2],e[3],e[4]):(e=Ot.exec(t))?Yt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Wt.exec(t))?te(e[1],e[2]/100,e[3]/100,1):(e=qt.exec(t))?te(e[1],e[2]/100,e[3]/100,e[4]):jt.hasOwnProperty(t)?Gt(jt[t]):"transparent"===t?new Xt(NaN,NaN,NaN,0):null}function Gt(t){return new Xt(t>>16&255,t>>8&255,255&t,1)}function Yt(t,e,n,i){return i<=0&&(t=e=n=NaN),new Xt(t,e,n,i)}function Vt(t){return t instanceof St||(t=Ut(t)),t?new Xt((t=t.rgb()).r,t.g,t.b,t.opacity):new Xt}function Kt(t,e,n,i){return 1===arguments.length?Vt(t):new Xt(t,e,n,null==i?1:i)}function Xt(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Jt(){return"#"+Qt(this.r)+Qt(this.g)+Qt(this.b)}function Zt(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Qt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function te(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ne(t,e,n,i)}function ee(t){if(t instanceof ne)return new ne(t.h,t.s,t.l,t.opacity);if(t instanceof St||(t=Ut(t)),!t)return new ne;if(t instanceof ne)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),a=NaN,s=o-r,l=(o+r)/2;return s?(a=e===o?(n-i)/s+6*(n<i):n===o?(i-e)/s+2:(e-n)/s+4,s/=l<.5?o+r:2-o-r,a*=60):s=l>0&&l<1?0:a,new ne(a,s,l,t.opacity)}function ne(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function ie(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function re(t){return function(){return t}}function oe(t){return 1==(t=+t)?ae:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):re(isNaN(e)?n:e)}}function ae(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):re(isNaN(t)?e:t)}zt(St,Ut,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Lt,formatHex:Lt,formatHsl:function(){return ee(this).formatHsl()},formatRgb:Ft,toString:Ft}),zt(Xt,Kt,Rt(St,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Xt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Xt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Jt,formatHex:Jt,formatRgb:Zt,toString:Zt})),zt(ne,(function(t,e,n,i){return 1===arguments.length?ee(t):new ne(t,e,n,null==i?1:i)}),Rt(St,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ne(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ne(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new Xt(ie(t>=240?t-240:t+120,r,i),ie(t,r,i),ie(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var se=function t(e){var n=oe(e);function i(t,e){var i=n((t=Kt(t)).r,(e=Kt(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),a=ae(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=a(e),t+""}}return i.gamma=t,i}(1);function le(t,e){e||(e=[]);var n,i=t?Math.min(e.length,t.length):0,r=e.slice();return function(o){for(n=0;n<i;++n)r[n]=t[n]*(1-o)+e[n]*o;return r}}function ue(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(r),a=new Array(i);for(n=0;n<r;++n)o[n]=me(t[n],e[n]);for(;n<i;++n)a[n]=e[n];return function(t){for(n=0;n<r;++n)a[n]=o[n](t);return a}}function ce(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function he(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function de(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=me(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}}var fe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ge=new RegExp(fe.source,"g");function pe(t,e){var n,i,r,o=fe.lastIndex=ge.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=fe.exec(t))&&(i=ge.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:he(n,i)})),o=ge.lastIndex;return o<e.length&&(r=e.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,i=0;i<e;++i)s[(n=l[i]).i]=n.x(t);return s.join("")})}function me(t,e){var n,i=typeof e;return null==e||"boolean"===i?re(e):("number"===i?he:"string"===i?(n=Ut(e))?(e=n,se):pe:e instanceof Ut?se:e instanceof Date?ce:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?le:Array.isArray(e)?ue:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?de:he)(t,e)}function ye(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function ve(t){return+t}var we=[0,1];function xe(t){return t}function be(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function $e(t,e,n){var i=t[0],r=t[1],o=e[0],a=e[1];return r<i?(i=be(r,i),o=n(a,o)):(i=be(i,r),o=n(o,a)),function(t){return o(i(t))}}function Me(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),o=new Array(i),a=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<i;)r[a]=be(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=Mt(t,e,1,i)-1;return o[n](r[n](e))}}function ke(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function _e(){var t,e,n,i,r,o,a=we,s=we,l=me,u=xe;function c(){var t,e,n,l=Math.min(a.length,s.length);return u!==xe&&(t=a[0],e=a[l-1],t>e&&(n=t,t=e,e=n),u=function(n){return Math.max(t,Math.min(e,n))}),i=l>2?Me:$e,r=o=null,h}function h(e){return isNaN(e=+e)?n:(r||(r=i(a.map(t),s,l)))(t(u(e)))}return h.invert=function(n){return u(e((o||(o=i(s,a.map(t),he)))(n)))},h.domain=function(t){return arguments.length?(a=Array.from(t,ve),c()):a.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),c()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),l=ye,c()},h.clamp=function(t){return arguments.length?(u=!!t||xe,c()):u!==xe},h.interpolate=function(t){return arguments.length?(l=t,c()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,i){return t=n,e=i,c()}}function Ne(){return _e()(xe,xe)}function Ae(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function Ee(t){return(t=Ae(Math.abs(t)))?t[1]:NaN}var ze,Re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Se(t){if(!(e=Re.exec(t)))throw new Error("invalid format: "+t);var e;return new Pe({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Pe(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ce(t,e){var n=Ae(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}Se.prototype=Pe.prototype,Pe.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Ie={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Ce(100*t,e)},r:Ce,s:function(t,e){var n=Ae(t,e);if(!n)return t+"";var i=n[0],r=n[1],o=r-(ze=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,a=i.length;return o===a?i:o>a?i+new Array(o-a+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+Ae(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function De(t){return t}var He,Te,Be,Oe=Array.prototype.map,We=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function qe(t){var e,n,i=void 0===t.grouping||void 0===t.thousands?De:(e=Oe.call(t.grouping,Number),n=t.thousands+"",function(t,i){for(var r=t.length,o=[],a=0,s=e[0],l=0;r>0&&s>0&&(l+s+1>i&&(s=Math.max(1,i-l)),o.push(t.substring(r-=s,r+s)),!((l+=s+1)>i));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),r=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?De:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Oe.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"-":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=Se(t)).fill,n=t.align,h=t.sign,d=t.symbol,f=t.zero,g=t.width,p=t.comma,m=t.precision,y=t.trim,v=t.type;"n"===v?(p=!0,v="g"):Ie[v]||(void 0===m&&(m=12),y=!0,v="g"),(f||"0"===e&&"="===n)&&(f=!0,e="0",n="=");var w="$"===d?r:"#"===d&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===d?o:/[%p]/.test(v)?l:"",b=Ie[v],$=/[defgprs%]/.test(v);function M(t){var r,o,l,d=w,M=x;if("c"===v)M=b(t)+M,t="";else{var k=(t=+t)<0;if(t=isNaN(t)?c:b(Math.abs(t),m),y&&(t=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(!+t[i])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(e+1):t}(t)),k&&0==+t&&(k=!1),d=(k?"("===h?h:u:"-"===h||"("===h?"":h)+d,M=("s"===v?We[8+ze/3]:"")+M+(k&&"("===h?")":""),$)for(r=-1,o=t.length;++r<o;)if(48>(l=t.charCodeAt(r))||l>57){M=(46===l?a+t.slice(r+1):t.slice(r))+M,t=t.slice(0,r);break}}p&&!f&&(t=i(t,1/0));var _=d.length+t.length+M.length,N=_<g?new Array(g-_+1).join(e):"";switch(p&&f&&(t=i(N+t,N.length?g-M.length:1/0),N=""),n){case"<":t=d+t+M+N;break;case"=":t=d+N+t+M;break;case"^":t=N.slice(0,_=N.length>>1)+d+t+M+N.slice(_);break;default:t=N+d+t+M}return s(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),M.toString=function(){return t+""},M}return{format:h,formatPrefix:function(t,e){var n=h(((t=Se(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Ee(e)/3))),r=Math.pow(10,-i),o=We[8+i/3];return function(t){return n(r*t)+o}}}}function je(t,e,n,i){var r,o=function(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=kt?r*=10:o>=_t?r*=5:o>=Nt&&(r*=2),e<t?-r:r}(t,e,n);switch((i=Se(null==i?",f":i)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(r=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ee(e)/3)))-Ee(Math.abs(t)))}(o,a))||(i.precision=r),Be(i,a);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ee(e)-Ee(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(t){return Math.max(0,-Ee(Math.abs(t)))}(o))||(i.precision=r-2*("%"===i.type))}return Te(i)}function Le(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var i,r,o,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((i=e<t)&&(r=t,t=e,e=r),0===(a=At(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(r=Math.ceil(e-t+1));++s<r;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(r=Math.ceil(t-e+1));++s<r;)o[s]=(t-s)/a;return i&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return je(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,r=e(),o=0,a=r.length-1,s=r[o],l=r[a];return l<s&&(i=s,s=l,l=i,i=o,o=a,a=i),(i=At(s,l,n))>0?i=At(s=Math.floor(s/i)*i,l=Math.ceil(l/i)*i,n):i<0&&(i=At(s=Math.ceil(s*i)/i,l=Math.floor(l*i)/i,n)),i>0?(r[o]=Math.floor(s/i)*i,r[a]=Math.ceil(l/i)*i,e(r)):i<0&&(r[o]=Math.ceil(s*i)/i,r[a]=Math.floor(l*i)/i,e(r)),t},t}function Fe(){var t=Ne();return t.copy=function(){return ke(t,Fe())},Et.apply(t,arguments),Le(t)}function Ue(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Ge(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Ye(t){return t<0?-t*t:t*t}function Ve(t){var e=t(xe,xe),n=1;function i(){return 1===n?t(xe,xe):.5===n?t(Ge,Ye):t(Ue(n),Ue(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,i()):n},Le(e)}function Ke(){var t=Ve(_e());return t.copy=function(){return ke(t,Ke()).exponent(t.exponent())},Et.apply(t,arguments),t}He=qe({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Te=He.format,Be=He.formatPrefix;var Xe={x:Fe,y:Fe,z:Fe,r:function(){return Ke.apply(null,arguments).exponent(.5)}};function Je(t){return function([e,n,i,r,o,a,s,l,u,c]){if(null===n)return null;const h=function(t,e,n,i,r){return r?"function"==typeof r?r({width:e,height:n}):r:function(t,e,n,i){return{x:!0===i?[e,0]:[0,e],y:!0===i?[n,0]:[0,n],z:!0===i?[e,0]:[0,e],r:!0===i?[25,1]:[1,25]}[t]}(t,e,n,i)}(t,s,l,a,u),d=e===Xe[t]?e():e.copy();return d.domain(vt(n[t],i)).range(h),r&&d.domain(function(t,e){if("function"!=typeof t.range)throw new Error("Scale method `range` must be a function");if("function"!=typeof t.domain)throw new Error("Scale method `domain` must be a function");if(!Array.isArray(e))return t.domain();const n=t.domain(),i=t.range(),r=n[1]-n[0],o=Math.abs(i[1]-i[0]),a=n.slice(),s=e.length;for(let t=0;t<s;t+=1){const i=0===t?-1:1,s="[object Date]"===Object.prototype.toString.call(n[t]),l=r*(e[t]/o),u=(s?n[t].getTime():n[t])+l*i;a[t]=s?new Date(u):u}return a}(d,r)),!0===o&&("function"==typeof d.nice?d.nice():console.error(`Layer Cake warning: You set \`${t}Nice: true\` but the ${t}Scale does not have a \`.nice\` method. Ignoring...`)),d}}function Ze([t,e]){return n=>{const i=t(n);return Array.isArray(i)?i.map(t=>e(t)):e(i)}}var Qe={x:!1,y:!0,z:!1,r:!1};function tn(t){let e,n,i;const r=t[91].default,o=c(r,t,t[90],null);return{c(){e=M("div"),o&&o.c(),E(e,"class","layercake-container svelte-h2hrtf"),K(()=>t[92].call(e))},m(r,a){x(r,e,a),o&&o.m(e,null),n=function(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=document.createElement("object");let i;return n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.type="text/html",n.tabIndex=-1,n.onload=()=>{i=n.contentDocument.defaultView,i.addEventListener("resize",e)},/Trident/.test(navigator.userAgent)?(t.appendChild(n),n.data="about:blank"):(n.data="about:blank",t.appendChild(n)),{cancel:()=>{i&&i.removeEventListener&&i.removeEventListener("resize",e),t.removeChild(n)}}}(e,t[92].bind(e)),i=!0},p(t,e){o&&o.p&&268435456&e[2]&&o.p(h(r,t,t[90],null),d(r,t[90],e,null))},i(t){i||(it(o,t),i=!0)},o(t){rt(o,t),i=!1},d(t){t&&b(e),o&&o.d(t),n.cancel()}}}function en(t,e,n){let{width:i}=e,{height:r}=e,{containerWidth:o=i||350}=e,{containerHeight:a=r||250}=e,{x:s}=e,{y:l}=e,{z:u}=e,{r:c}=e,{custom:h={}}=e,{data:d=[]}=e,{xDomain:f}=e,{yDomain:g}=e,{zDomain:p}=e,{rDomain:m}=e,{xNice:y=!1}=e,{yNice:v=!1}=e,{zNice:w=!1}=e,{rNice:x=!1}=e,{xReverse:b=Qe.x}=e,{yReverse:$=Qe.y}=e,{zReverse:M=Qe.z}=e,{rReverse:k=Qe.r}=e,{xPadding:_}=e,{yPadding:N}=e,{zPadding:A}=e,{rPadding:E}=e,{xScale:z=Xe.x}=e,{yScale:R=Xe.y}=e,{zScale:S=Xe.y}=e,{rScale:P=Xe.r}=e,{xRange:C}=e,{yRange:I}=e,{zRange:D}=e,{rRange:H}=e,{padding:T={}}=e,{flatData:B}=e;const O={},q=pt(),j=pt(),L=pt(),F=pt(),U=pt(),G=pt(),Y=pt(),V=pt(),K=pt(),X=pt(),J=pt(),Z=pt(),Q=pt(),tt=pt(),et=pt(),nt=pt(),it=pt(),rt=pt(),ot=pt(),at=pt(),st=pt(),lt=pt(),ut=pt(),ct=pt(),ht=pt(),dt=pt(),ft=pt(),gt=pt(),vt=pt(),xt=pt(),bt=pt(),$t=pt(),Mt=pt(),kt=pt(),_t=mt([L,F,U,G],([t,e,n,i])=>[{field:"x",accessor:t},{field:"y",accessor:e},{field:"z",accessor:n},{field:"r",accessor:i}].filter(t=>t.accessor)),Nt=mt([Mt,q,j],([t])=>Object.assign({top:0,right:0,bottom:0,left:0},t)),At=mt([q,j,Nt],([t,e,n])=>{const i={};return i.top=n.top,i.right=t-n.right,i.bottom=e-n.bottom,i.left=n.left,i.width=i.right-i.left,i.height=i.bottom-i.top,i.width<0&&i.height<0?console.error("[LayerCake] Target div has negative width and height. Did you forget to set a width or height on the container?"):i.width<0?console.error("[LayerCake] Target div has a negative width. Did you forget to set that CSS on the container?"):i.height<0&&console.error("[LayerCake] Target div has negative height. Did you forget to set that CSS on the container?"),i}),Et=mt([At],([t])=>t.width),zt=mt([At],([t])=>t.height),Rt=mt([kt,_t],([t,e])=>function(t,e){if(!Array.isArray(t)||0===t.length)return null;const n={},i=e.length;let r,o,a,s,l;if(!i)return null;{for(r=0;r<i;r+=1){const i=e[r].accessor(t[0]);n[e[r].field]=Array.isArray(i)?i:[i,i]}const u=t.length;for(r=0;r<u;r+=1)for(o=0;o<i;o+=1)if(a=e[o],s=a.accessor(t[r]),l=a.field,Array.isArray(s)){const t=s.length;for(let e=0;e<t;e+=1)void 0!==s[e]&&(s[e]<n[l][0]&&(n[l][0]=s[e]),s[e]>n[l][1]&&(n[l][1]=s[e]))}else void 0!==s&&(s<n[l][0]&&(n[l][0]=s),s>n[l][1]&&(n[l][1]=s))}return n}(t,e)),St=mt([Rt,K],wt("x")),Pt=mt([Rt,X],wt("y")),Ct=mt([Rt,J],wt("z")),It=mt([Rt,Z],wt("r")),Dt=mt([ht,Rt,St,st,Q,it,Et,zt,vt],Je("x")),Ht=mt([L,Dt],Ze),Tt=mt([dt,Rt,Pt,lt,tt,rt,Et,zt,xt],Je("y")),Bt=mt([F,Tt],Ze),Ot=mt([ft,Rt,Ct,ut,et,ot,Et,zt,bt],Je("z")),Wt=mt([U,Ot],Ze),qt=mt([gt,Rt,It,ct,nt,at,Et,zt,$t],Je("r")),jt=mt([G,qt],Ze);let Lt,{$$slots:Ft={},$$scope:Ut}=e;return t.$set=t=>{"width"in t&&n(2,i=t.width),"height"in t&&n(3,r=t.height),"containerWidth"in t&&n(0,o=t.containerWidth),"containerHeight"in t&&n(1,a=t.containerHeight),"x"in t&&n(4,s=t.x),"y"in t&&n(5,l=t.y),"z"in t&&n(6,u=t.z),"r"in t&&n(7,c=t.r),"custom"in t&&n(8,h=t.custom),"data"in t&&n(9,d=t.data),"xDomain"in t&&n(10,f=t.xDomain),"yDomain"in t&&n(11,g=t.yDomain),"zDomain"in t&&n(12,p=t.zDomain),"rDomain"in t&&n(13,m=t.rDomain),"xNice"in t&&n(14,y=t.xNice),"yNice"in t&&n(15,v=t.yNice),"zNice"in t&&n(16,w=t.zNice),"rNice"in t&&n(17,x=t.rNice),"xReverse"in t&&n(18,b=t.xReverse),"yReverse"in t&&n(19,$=t.yReverse),"zReverse"in t&&n(20,M=t.zReverse),"rReverse"in t&&n(21,k=t.rReverse),"xPadding"in t&&n(22,_=t.xPadding),"yPadding"in t&&n(23,N=t.yPadding),"zPadding"in t&&n(24,A=t.zPadding),"rPadding"in t&&n(25,E=t.rPadding),"xScale"in t&&n(26,z=t.xScale),"yScale"in t&&n(27,R=t.yScale),"zScale"in t&&n(28,S=t.zScale),"rScale"in t&&n(29,P=t.rScale),"xRange"in t&&n(30,C=t.xRange),"yRange"in t&&n(31,I=t.yRange),"zRange"in t&&n(32,D=t.zRange),"rRange"in t&&n(33,H=t.rRange),"padding"in t&&n(34,T=t.padding),"flatData"in t&&n(35,B=t.flatData),"$$scope"in t&&n(90,Ut=t.$$scope)},t.$$.update=()=>{16&t.$$.dirty[0]&&s&&n(36,O.x=s,O),32&t.$$.dirty[0]&&l&&n(36,O.y=l,O),64&t.$$.dirty[0]&&u&&n(36,O.z=u,O),128&t.$$.dirty[0]&&c&&n(36,O.r=c,O),1024&t.$$.dirty[0]&&f&&n(36,O.xDomain=f,O),2048&t.$$.dirty[0]&&g&&n(36,O.yDomain=g,O),4096&t.$$.dirty[0]&&p&&n(36,O.zDomain=p,O),8192&t.$$.dirty[0]&&m&&n(36,O.rDomain=m,O),1073741824&t.$$.dirty[0]&&C&&n(36,O.xRange=C,O),1&t.$$.dirty[1]&&I&&n(36,O.yRange=I,O),2&t.$$.dirty[1]&&D&&n(36,O.zRange=D,O),4&t.$$.dirty[1]&&H&&n(36,O.rRange=H,O),1&t.$$.dirty[0]&&q.set(o),2&t.$$.dirty[0]&&j.set(a),16&t.$$.dirty[0]&&L.set(yt(s)),32&t.$$.dirty[0]&&F.set(yt(l)),64&t.$$.dirty[0]&&U.set(yt(u)),128&t.$$.dirty[0]&&G.set(yt(c)),1024&t.$$.dirty[0]&&K.set(f),2048&t.$$.dirty[0]&&X.set(g),4096&t.$$.dirty[0]&&J.set(p),8192&t.$$.dirty[0]&&Z.set(m),256&t.$$.dirty[0]&&Y.set(h),512&t.$$.dirty[0]&&V.set(d),16384&t.$$.dirty[0]&&Q.set(y),32768&t.$$.dirty[0]&&tt.set(v),65536&t.$$.dirty[0]&&et.set(w),131072&t.$$.dirty[0]&&nt.set(x),262144&t.$$.dirty[0]&&it.set(b),524288&t.$$.dirty[0]&&rt.set($),1048576&t.$$.dirty[0]&&ot.set(M),2097152&t.$$.dirty[0]&&at.set(k),4194304&t.$$.dirty[0]&&st.set(_),8388608&t.$$.dirty[0]&&lt.set(N),16777216&t.$$.dirty[0]&&ut.set(A),33554432&t.$$.dirty[0]&&ct.set(E),67108864&t.$$.dirty[0]&&ht.set(z),134217728&t.$$.dirty[0]&&dt.set(R),268435456&t.$$.dirty[0]&&ft.set(S),536870912&t.$$.dirty[0]&&gt.set(P),1073741824&t.$$.dirty[0]&&vt.set(C),1&t.$$.dirty[1]&&xt.set(I),2&t.$$.dirty[1]&&bt.set(D),4&t.$$.dirty[1]&&$t.set(H),8&t.$$.dirty[1]&&Mt.set(T),512&t.$$.dirty[0]|16&t.$$.dirty[1]&&kt.set(B||d),32&t.$$.dirty[1]&&n(37,Lt={activeGetters:_t,width:Et,height:zt,containerWidth:q,containerHeight:j,x:L,y:F,z:U,r:G,custom:Y,data:V,xNice:Q,yNice:tt,zNice:et,rNice:nt,xReverse:it,yReverse:rt,zReverse:ot,rReverse:at,xPadding:st,yPadding:lt,zPadding:ut,rPadding:ct,padding:Nt,flatData:kt,extents:Rt,xDomain:St,yDomain:Pt,zDomain:Ct,rDomain:It,originalSettings:pt(O),xScale:Dt,xGet:Ht,yScale:Tt,yGet:Bt,zScale:Ot,zGet:Wt,rScale:qt,rGet:jt}),64&t.$$.dirty[1]&&function(t,e){W().$$.context.set(t,e)}("LayerCake",Lt)},[o,a,i,r,s,l,u,c,h,d,f,g,p,m,y,v,w,x,b,$,M,k,_,N,A,E,z,R,S,P,C,I,D,H,T,B,O,Lt,q,j,L,F,U,G,Y,V,K,X,J,Z,Q,tt,et,nt,it,rt,ot,at,st,lt,ut,ct,ht,dt,ft,gt,vt,xt,bt,$t,Mt,kt,_t,Nt,At,Et,zt,Rt,St,Pt,Ct,It,Dt,Ht,Tt,Bt,Ot,Wt,qt,jt,Ut,Ft,function(){o=this.clientWidth,a=this.clientHeight,n(0,o),n(1,a)}]}class nn extends dt{constructor(t){super(),ht(this,t,en,tn,s,{width:2,height:3,containerWidth:0,containerHeight:1,x:4,y:5,z:6,r:7,custom:8,data:9,xDomain:10,yDomain:11,zDomain:12,rDomain:13,xNice:14,yNice:15,zNice:16,rNice:17,xReverse:18,yReverse:19,zReverse:20,rReverse:21,xPadding:22,yPadding:23,zPadding:24,rPadding:25,xScale:26,yScale:27,zScale:28,rScale:29,xRange:30,yRange:31,zRange:32,rRange:33,padding:34,flatData:35},[-1,-1,-1])}}function rn(t){let e,n,i;const r=t[5].default,o=c(r,t,t[4],null);return{c(){e=M("div"),o&&o.c(),E(e,"class","layercake-layout-html svelte-1bu60uu"),E(e,"style",n="top: "+t[1].top+"px; right:"+t[1].right+"px; bottom:"+t[1].bottom+"px; left:"+t[1].left+"px;"+t[0]+";")},m(t,n){x(t,e,n),o&&o.m(e,null),i=!0},p(t,[a]){o&&o.p&&16&a&&o.p(h(r,t,t[4],null),d(r,t[4],a,null)),(!i||3&a&&n!==(n="top: "+t[1].top+"px; right:"+t[1].right+"px; bottom:"+t[1].bottom+"px; left:"+t[1].left+"px;"+t[0]+";"))&&E(e,"style",n)},i(t){i||(it(o,t),i=!0)},o(t){rt(o,t),i=!1},d(t){t&&b(e),o&&o.d(t)}}}function on(t,e,n){let i,{zIndex:r}=e,o="";const{padding:a}=q("LayerCake");u(t,a,t=>n(1,i=t));let{$$slots:s={},$$scope:l}=e;return t.$set=t=>{"zIndex"in t&&n(3,r=t.zIndex),"$$scope"in t&&n(4,l=t.$$scope)},t.$$.update=()=>{8&t.$$.dirty&&n(0,o=void 0!==r?`z-index:${r};`:"")},[o,i,a,r,l,s]}class an extends dt{constructor(t){super(),ht(this,t,on,rn,s,{zIndex:3})}}function sn(t){let e,n,i,r,o;const a=t[9].default,s=c(a,t,t[8],null);return{c(){e=k("svg"),n=k("g"),s&&s.c(),E(n,"transform",i="translate("+t[3].left+", "+t[3].top+")"),E(e,"class","layercake-layout-svg svelte-1wqugfi"),E(e,"width",t[1]),E(e,"height",t[2]),E(e,"style",r="pointer-events: none;"+t[0])},m(t,i){x(t,e,i),w(e,n),s&&s.m(n,null),o=!0},p(t,[l]){s&&s.p&&256&l&&s.p(h(a,t,t[8],null),d(a,t[8],l,null)),(!o||8&l&&i!==(i="translate("+t[3].left+", "+t[3].top+")"))&&E(n,"transform",i),(!o||2&l)&&E(e,"width",t[1]),(!o||4&l)&&E(e,"height",t[2]),(!o||1&l&&r!==(r="pointer-events: none;"+t[0]))&&E(e,"style",r)},i(t){o||(it(s,t),o=!0)},o(t){rt(s,t),o=!1},d(t){t&&b(e),s&&s.d(t)}}}function ln(t,e,n){let i,r,o,{zIndex:a}=e,s="";const{containerWidth:l,containerHeight:c,padding:h}=q("LayerCake");u(t,l,t=>n(1,i=t)),u(t,c,t=>n(2,r=t)),u(t,h,t=>n(3,o=t));let{$$slots:d={},$$scope:f}=e;return t.$set=t=>{"zIndex"in t&&n(7,a=t.zIndex),"$$scope"in t&&n(8,f=t.$$scope)},t.$$.update=()=>{128&t.$$.dirty&&n(0,s=void 0!==a?`z-index:${a};`:"")},[s,i,r,o,l,c,h,a,f,d]}class un extends dt{constructor(t){super(),ht(this,t,ln,sn,s,{zIndex:7})}}function cn(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function hn(t){return"[object Date]"===Object.prototype.toString.call(t)}function dn(t,e){if(t===e||t!=t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map((e,n)=>dn(t[n],e));return t=>n.map(e=>e(t))}if("object"===n){if(!t||!e)throw new Error("Object cannot be null");if(hn(t)&&hn(e)){t=t.getTime();const n=(e=e.getTime())-t;return e=>new Date(t+e*n)}const n=Object.keys(e),i={};return n.forEach(n=>{i[n]=dn(t[n],e[n])}),t=>{const e={};return n.forEach(n=>{e[n]=i[n](t)}),e}}if("number"===n){const n=e-t;return e=>t+e*n}throw new Error(`Cannot interpolate ${n} values`)}function fn(t,i={}){const r=pt(t);let o,a=t;function s(s,l){if(null==t)return r.set(t=s),Promise.resolve();a=s;let u=o,c=!1,{delay:h=0,duration:d=400,easing:f=e,interpolate:p=dn}=n(n({},i),l);const m=g()+h;let y;return o=v(e=>{if(e<m)return!0;c||(y=p(t,s),"function"==typeof d&&(d=d(t,s)),c=!0),u&&(u.abort(),u=null);const n=e-m;return n>d?(r.set(t=s),!1):(r.set(t=y(f(n/d))),!0)}),o.promise}return{set:s,update:(e,n)=>s(e(a,t),n),subscribe:r.subscribe}}function gn(t,{delay:n=0,duration:i=400,easing:r=e}){const o=+getComputedStyle(t).opacity;return{delay:n,duration:i,easing:r,css:t=>`opacity: ${t*o}`}}function pn(t,e,n){const i=t.slice();return i[6]=e[n],i[8]=n,i}function mn(t){let e,n,i,r,o,a,s,l,u,c,h,d,f,g,p,m,y,v,$=t[6].indicator+"",k=t[6].unit+"",A=t[6].source+"";return{c(){e=M("div"),n=M("p"),i=_($),a=N(),s=M("p"),l=_(k),h=N(),d=M("p"),f=_(A),m=N(),E(n,"class","layercake-annotation indicator svelte-x94u6n"),E(n,"data-id",r=t[8]),E(s,"class","layercake-annotation unit svelte-x94u6n"),E(s,"data-id",u=t[8]),E(d,"class","layercake-annotation source svelte-x94u6n"),E(d,"data-id",g=t[8]),E(e,"class","layercake-annotations svelte-x94u6n"),E(e,"style",y=t[3](t[6]))},m(r,o){x(r,e,o),w(e,n),w(n,i),w(e,a),w(e,s),w(s,l),w(e,h),w(e,d),w(d,f),w(e,m),t[5](e),v=!0},p(t,n){(!v||2&n)&&$!==($=t[6].indicator+"")&&z(i,$),(!v||2&n)&&k!==(k=t[6].unit+"")&&z(l,k),(!v||2&n)&&A!==(A=t[6].source+"")&&z(f,A),(!v||10&n&&y!==(y=t[3](t[6])))&&E(e,"style",y)},i(t){v||(K(()=>{o||(o=at(n,gn,{},!0)),o.run(1)}),K(()=>{c||(c=at(s,gn,{},!0)),c.run(1)}),K(()=>{p||(p=at(d,gn,{},!0)),p.run(1)}),v=!0)},o(t){o||(o=at(n,gn,{},!1)),o.run(0),c||(c=at(s,gn,{},!1)),c.run(0),p||(p=at(d,gn,{},!1)),p.run(0),v=!1},d(n){n&&b(e),n&&o&&o.end(),n&&c&&c.end(),n&&p&&p.end(),t[5](null)}}}function yn(t){let e,n,i=t[2]&&t[2].index===t[6].index&&mn(t);return{c(){i&&i.c(),e=A()},m(t,r){i&&i.m(t,r),x(t,e,r),n=!0},p(t,n){t[2]&&t[2].index===t[6].index?i?(i.p(t,n),it(i,1)):(i=mn(t),i.c(),it(i,1),i.m(e.parentNode,e)):i&&(et(),rt(i,1,1,()=>{i=null}),nt())},i(t){n||(it(i),n=!0)},o(t){rt(i),n=!1},d(t){i&&i.d(t),t&&b(e)}}}function vn(t){let e,n,i=t[1],r=[];for(let e=0;e<i.length;e+=1)r[e]=yn(pn(t,i,e));const o=t=>rt(r[t],1,1,()=>{r[t]=null});return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=A()},m(t,i){for(let e=0;e<r.length;e+=1)r[e].m(t,i);x(t,e,i),n=!0},p(t,[n]){if(15&n){let a;for(i=t[1],a=0;a<i.length;a+=1){const o=pn(t,i,a);r[a]?(r[a].p(o,n),it(r[a],1)):(r[a]=yn(o),r[a].c(),it(r[a],1),r[a].m(e.parentNode,e))}for(et(),a=i.length;a<r.length;a+=1)o(a);nt()}},i(t){if(!n){for(let t=0;t<i.length;t+=1)it(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)rt(r[t]);n=!1},d(t){$(r,t),t&&b(e)}}}function wn(t,e,n){let{container:i}=e,{annotations:r=[]}=e,{datum:o}=e;const a=["top","right","bottom","left","width","max-width","font-size","font-style","text-align","margin","background-color","color"];let s;return t.$set=t=>{"container"in t&&n(0,i=t.container),"annotations"in t&&n(1,r=t.annotations),"datum"in t&&n(2,o=t.datum)},n(3,s=t=>{let e="";return a.forEach(n=>{t[n]&&(e+=`${n}:${t[n]};`)}),e}),[i,r,o,s,a,function(t){L[t?"unshift":"push"](()=>{n(0,i=t)})}]}class xn extends dt{constructor(t){super(),ht(this,t,wn,vn,s,{container:0,annotations:1,datum:2})}}function bn(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var r,o,a,s,l,u,c,h,d,f=t._root,g={data:i},p=t._x0,m=t._y0,y=t._x1,v=t._y1;if(!f)return t._root=g,t;for(;f.length;)if((u=e>=(o=(p+y)/2))?p=o:y=o,(c=n>=(a=(m+v)/2))?m=a:v=a,r=f,!(f=f[h=c<<1|u]))return r[h]=g,t;if(s=+t._x.call(null,f.data),l=+t._y.call(null,f.data),e===s&&n===l)return g.next=f,r?r[h]=g:t._root=g,t;do{r=r?r[h]=new Array(4):t._root=new Array(4),(u=e>=(o=(p+y)/2))?p=o:y=o,(c=n>=(a=(m+v)/2))?m=a:v=a}while((h=c<<1|u)==(d=(l>=a)<<1|s>=o));return r[d]=f,r[h]=g,t}function $n(t,e,n,i,r){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=r}function Mn(t){return t[0]}function kn(t){return t[1]}function _n(t,e,n){var i=new Nn(null==e?Mn:e,null==n?kn:n,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function Nn(t,e,n,i,r,o){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=r,this._y1=o,this._root=void 0}function An(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var En=_n.prototype=Nn.prototype;function zn(t){return function(){return t}}function Rn(){return 1e-6*(Math.random()-.5)}function Sn(t){return t.x+t.vx}function Pn(t){return t.y+t.vy}function Cn(t){var e,n,i=1,r=1;function o(){for(var t,o,s,l,u,c,h,d=e.length,f=0;f<r;++f)for(o=_n(e,Sn,Pn).visitAfter(a),t=0;t<d;++t)s=e[t],c=n[s.index],h=c*c,l=s.x+s.vx,u=s.y+s.vy,o.visit(g);function g(t,e,n,r,o){var a=t.data,d=t.r,f=c+d;if(!a)return e>l+f||r<l-f||n>u+f||o<u-f;if(a.index>s.index){var g=l-a.x-a.vx,p=u-a.y-a.vy,m=g*g+p*p;m<f*f&&(0===g&&(m+=(g=Rn())*g),0===p&&(m+=(p=Rn())*p),m=(f-(m=Math.sqrt(m)))/m*i,s.vx+=(g*=m)*(f=(d*=d)/(h+d)),s.vy+=(p*=m)*f,a.vx-=g*(f=1-f),a.vy-=p*f)}}}function a(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function s(){if(e){var i,r,o=e.length;for(n=new Array(o),i=0;i<o;++i)r=e[i],n[r.index]=+t(r,i,e)}}return"function"!=typeof t&&(t=zn(null==t?1:+t)),o.initialize=function(t){e=t,s()},o.iterations=function(t){return arguments.length?(r=+t,o):r},o.strength=function(t){return arguments.length?(i=+t,o):i},o.radius=function(e){return arguments.length?(t="function"==typeof e?e:zn(+e),s(),o):t},o}En.copy=function(){var t,e,n=new Nn(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=An(i),n;for(t=[{source:i,target:n._root=new Array(4)}];i=t.pop();)for(var r=0;r<4;++r)(e=i.source[r])&&(e.length?t.push({source:e,target:i.target[r]=new Array(4)}):i.target[r]=An(e));return n},En.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return bn(this.cover(e,n),e,n,t)},En.addAll=function(t){var e,n,i,r,o=t.length,a=new Array(o),s=new Array(o),l=1/0,u=1/0,c=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(r=+this._y.call(null,e))||(a[n]=i,s[n]=r,i<l&&(l=i),i>c&&(c=i),r<u&&(u=r),r>h&&(h=r));if(l>c||u>h)return this;for(this.cover(l,u).cover(c,h),n=0;n<o;++n)bn(this,a[n],s[n],t[n]);return this},En.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,o=(i=Math.floor(e))+1;else{for(var a,s,l=r-n,u=this._root;n>t||t>=r||i>e||e>=o;)switch(s=(e<i)<<1|t<n,(a=new Array(4))[s]=u,u=a,l*=2,s){case 0:r=n+l,o=i+l;break;case 1:n=r-l,o=i+l;break;case 2:r=n+l,i=o-l;break;case 3:n=r-l,i=o-l}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=i,this._x1=r,this._y1=o,this},En.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},En.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},En.find=function(t,e,n){var i,r,o,a,s,l,u,c=this._x0,h=this._y0,d=this._x1,f=this._y1,g=[],p=this._root;for(p&&g.push(new $n(p,c,h,d,f)),null==n?n=1/0:(c=t-n,h=e-n,d=t+n,f=e+n,n*=n);l=g.pop();)if(!(!(p=l.node)||(r=l.x0)>d||(o=l.y0)>f||(a=l.x1)<c||(s=l.y1)<h))if(p.length){var m=(r+a)/2,y=(o+s)/2;g.push(new $n(p[3],m,y,a,s),new $n(p[2],r,y,m,s),new $n(p[1],m,o,a,y),new $n(p[0],r,o,m,y)),(u=(e>=y)<<1|t>=m)&&(l=g[g.length-1],g[g.length-1]=g[g.length-1-u],g[g.length-1-u]=l)}else{var v=t-+this._x.call(null,p.data),w=e-+this._y.call(null,p.data),x=v*v+w*w;if(x<n){var b=Math.sqrt(n=x);c=t-b,h=e-b,d=t+b,f=e+b,i=p.data}}return i},En.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,i,r,o,a,s,l,u,c,h,d,f=this._root,g=this._x0,p=this._y0,m=this._x1,y=this._y1;if(!f)return this;if(f.length)for(;;){if((u=o>=(s=(g+m)/2))?g=s:m=s,(c=a>=(l=(p+y)/2))?p=l:y=l,e=f,!(f=f[h=c<<1|u]))return this;if(!f.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,d=h)}for(;f.data!==t;)if(i=f,!(f=f.next))return this;return(r=f.next)&&delete f.next,i?(r?i.next=r:delete i.next,this):e?(r?e[h]=r:delete e[h],(f=e[0]||e[1]||e[2]||e[3])&&f===(e[3]||e[2]||e[1]||e[0])&&!f.length&&(n?n[d]=f:this._root=f),this):(this._root=r,this)},En.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},En.root=function(){return this._root},En.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},En.visit=function(t){var e,n,i,r,o,a,s=[],l=this._root;for(l&&s.push(new $n(l,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(l=e.node,i=e.x0,r=e.y0,o=e.x1,a=e.y1)&&l.length){var u=(i+o)/2,c=(r+a)/2;(n=l[3])&&s.push(new $n(n,u,c,o,a)),(n=l[2])&&s.push(new $n(n,i,c,u,a)),(n=l[1])&&s.push(new $n(n,u,r,o,c)),(n=l[0])&&s.push(new $n(n,i,r,u,c))}return this},En.visitAfter=function(t){var e,n=[],i=[];for(this._root&&n.push(new $n(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var r=e.node;if(r.length){var o,a=e.x0,s=e.y0,l=e.x1,u=e.y1,c=(a+l)/2,h=(s+u)/2;(o=r[0])&&n.push(new $n(o,a,s,c,h)),(o=r[1])&&n.push(new $n(o,c,s,l,h)),(o=r[2])&&n.push(new $n(o,a,h,c,u)),(o=r[3])&&n.push(new $n(o,c,h,l,u))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},En.x=function(t){return arguments.length?(this._x=t,this):this._x},En.y=function(t){return arguments.length?(this._y=t,this):this._y};var In={value:function(){}};function Dn(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new Hn(i)}function Hn(t){this._=t}function Tn(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function Bn(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function On(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=In,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}Hn.prototype=Dn.prototype={constructor:Hn,on:function(t,e){var n,i=this._,r=Tn(t+"",i),o=-1,a=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=r[o]).type)i[n]=On(i[n],t.name,e);else if(null==e)for(n in i)i[n]=On(i[n],t.name,null);return this}for(;++o<a;)if((n=(t=r[o]).type)&&(n=Bn(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Hn(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(i=this._[t]).length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};var Wn,qn,jn=0,Ln=0,Fn=0,Un=0,Gn=0,Yn=0,Vn="object"==typeof performance&&performance.now?performance:Date,Kn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Xn(){return Gn||(Kn(Jn),Gn=Vn.now()+Yn)}function Jn(){Gn=0}function Zn(){this._call=this._time=this._next=null}function Qn(t,e,n){var i=new Zn;return i.restart(t,e,n),i}function ti(){Gn=(Un=Vn.now())+Yn,jn=Ln=0;try{!function(){Xn(),++jn;for(var t,e=Wn;e;)(t=Gn-e._time)>=0&&e._call.call(null,t),e=e._next;--jn}()}finally{jn=0,function(){var t,e,n=Wn,i=1/0;for(;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Wn=e);qn=t,ni(i)}(),Gn=0}}function ei(){var t=Vn.now(),e=t-Un;e>1e3&&(Yn-=e,Un=t)}function ni(t){jn||(Ln&&(Ln=clearTimeout(Ln)),t-Gn>24?(t<1/0&&(Ln=setTimeout(ti,t-Vn.now()-Yn)),Fn&&(Fn=clearInterval(Fn))):(Fn||(Un=Vn.now(),Fn=setInterval(ei,1e3)),jn=1,Kn(ti)))}function ii(t){return t.x}function ri(t){return t.y}Zn.prototype=Qn.prototype={constructor:Zn,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Xn():+n)+(null==e?0:+e),this._next||qn===this||(qn?qn._next=this:Wn=this,qn=this),this._call=t,this._time=n,ni()},stop:function(){this._call&&(this._call=null,this._time=1/0,ni())}};var oi=Math.PI*(3-Math.sqrt(5));function ai(){var t,e,n,i,r=zn(-30),o=1,a=1/0,s=.81;function l(i){var r,o=t.length,a=_n(t,ii,ri).visitAfter(c);for(n=i,r=0;r<o;++r)e=t[r],a.visit(h)}function u(){if(t){var e,n,o=t.length;for(i=new Array(o),e=0;e<o;++e)n=t[e],i[n.index]=+r(n,e,t)}}function c(t){var e,n,r,o,a,s=0,l=0;if(t.length){for(r=o=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(s+=e.value,l+=n,r+=n*e.x,o+=n*e.y);t.x=r/l,t.y=o/l}else{(e=t).x=e.data.x,e.y=e.data.y;do{s+=i[e.data.index]}while(e=e.next)}t.value=s}function h(t,r,l,u){if(!t.value)return!0;var c=t.x-e.x,h=t.y-e.y,d=u-r,f=c*c+h*h;if(d*d/s<f)return f<a&&(0===c&&(f+=(c=Rn())*c),0===h&&(f+=(h=Rn())*h),f<o&&(f=Math.sqrt(o*f)),e.vx+=c*t.value*n/f,e.vy+=h*t.value*n/f),!0;if(!(t.length||f>=a)){(t.data!==e||t.next)&&(0===c&&(f+=(c=Rn())*c),0===h&&(f+=(h=Rn())*h),f<o&&(f=Math.sqrt(o*f)));do{t.data!==e&&(d=i[t.data.index]*n/f,e.vx+=c*d,e.vy+=h*d)}while(t=t.next)}}return l.initialize=function(e){t=e,u()},l.strength=function(t){return arguments.length?(r="function"==typeof t?t:zn(+t),u(),l):r},l.distanceMin=function(t){return arguments.length?(o=t*t,l):Math.sqrt(o)},l.distanceMax=function(t){return arguments.length?(a=t*t,l):Math.sqrt(a)},l.theta=function(t){return arguments.length?(s=t*t,l):Math.sqrt(s)},l}function si(t){var e,n,i,r=zn(.1);function o(t){for(var r,o=0,a=e.length;o<a;++o)(r=e[o]).vx+=(i[o]-r.x)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),i=new Array(a),o=0;o<a;++o)n[o]=isNaN(i[o]=+t(e[o],o,e))?0:+r(e[o],o,e)}}return"function"!=typeof t&&(t=zn(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(r="function"==typeof t?t:zn(+t),a(),o):r},o.x=function(e){return arguments.length?(t="function"==typeof e?e:zn(+e),a(),o):t},o}function li(t){var e,n,i,r=zn(.1);function o(t){for(var r,o=0,a=e.length;o<a;++o)(r=e[o]).vy+=(i[o]-r.y)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),i=new Array(a),o=0;o<a;++o)n[o]=isNaN(i[o]=+t(e[o],o,e))?0:+r(e[o],o,e)}}return"function"!=typeof t&&(t=zn(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(r="function"==typeof t?t:zn(+t),a(),o):r},o.y=function(e){return arguments.length?(t="function"==typeof e?e:zn(+e),a(),o):t},o}function ui(t,e,n){const{data:i,width:r,height:o}=q("LayerCake"),a=function(){const t=W();return(e,n)=>{const i=t.$$.callbacks[e];if(i){const r=P(e,n);i.slice().forEach(e=>{e.call(t,r)})}}}();let s,l,u,c,h,d,{bubbles:f=[]}=e,{mobile:g=!1}=e,{step:p}=e,{dimensions:m}=e,y=function(t){var e,n=1,i=.001,r=1-Math.pow(i,1/300),o=0,a=.6,s=new Map,l=Qn(c),u=Dn("tick","end");function c(){h(),u.call("tick",e),n<i&&(l.stop(),u.call("end",e))}function h(i){var l,u,c=t.length;void 0===i&&(i=1);for(var h=0;h<i;++h)for(n+=(o-n)*r,s.forEach((function(t){t(n)})),l=0;l<c;++l)null==(u=t[l]).fx?u.x+=u.vx*=a:(u.x=u.fx,u.vx=0),null==u.fy?u.y+=u.vy*=a:(u.y=u.fy,u.vy=0);return e}function d(){for(var e,n=0,i=t.length;n<i;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var r=10*Math.sqrt(n),o=n*oi;e.x=r*Math.cos(o),e.y=r*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function f(e){return e.initialize&&e.initialize(t),e}return null==t&&(t=[]),d(),e={tick:h,restart:function(){return l.restart(c),e},stop:function(){return l.stop(),e},nodes:function(n){return arguments.length?(t=n,d(),s.forEach(f),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(i=+t,e):i},alphaDecay:function(t){return arguments.length?(r=+t,e):+r},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},force:function(t,n){return arguments.length>1?(null==n?s.delete(t):s.set(t,f(n)),e):s.get(t)},find:function(e,n,i){var r,o,a,s,l,u=0,c=t.length;for(null==i?i=1/0:i*=i,u=0;u<c;++u)(a=(r=e-(s=t[u]).x)*r+(o=n-s.y)*o)<i&&(l=s,i=a);return l},on:function(t,n){return arguments.length>1?(u.on(t,n),e):u.on(t)}}}(f).alphaDecay(0);function v(t,e,n,i){return s=t[0]+e[0]/n[0]*(i%n[0]),l=t[1]+e[1]/n[1]*Math.floor(i/n[1]),[s,l]}return t.$set=t=>{"bubbles"in t&&n(0,f=t.bubbles),"mobile"in t&&n(1,g=t.mobile),"step"in t&&n(2,p=t.step),"dimensions"in t&&n(3,m=t.dimensions)},t.$$.update=()=>{2&t.$$.dirty&&(u=[10,10]),10&t.$$.dirty&&(c=g?[.1*m[0],.45*m[1]]:[.2*m[0],.45*m[1]]),10&t.$$.dirty&&(h=g?[.55*m[0],.45*m[1]]:[.6*m[0],.45*m[1]]),10&t.$$.dirty&&(d=g?[.35*m[0],.35*m[0]]:[.2*m[0],.2*m[0]]),4&t.$$.dirty&&function(t){switch(t){case void 0:setTimeout(()=>{f.forEach((t,e)=>{t.x=e<100?m[0]+Math.random()*m[0]/2:-m[0]-Math.random()*m[0]/2,t.y=g?m[1]:Math.random()*m[1]/2}),a("message",f)},1e3);break;case 0:y.force("charge",ai().strength(-10)).force("forceX",si(m[0]/2).strength(.1)).force("forceY",li(m[1]/2).strength(.1)).force("collide",Cn(t=>t.r)).on("tick",()=>{y.tick(),a("message",[...f])});break;default:y.force("charge",ai().strength(0)).force("forceX",si((t,e)=>e<100?v(c,d,u,e)[0]:v(h,d,u,e%100)[0]).strength(.05)).force("forceY",li((t,e)=>e<100?v(c,d,u,e)[1]:v(h,d,u,e%100)[1]).strength(.05)).on("tick",()=>{y.tick(),a("message",[...f])})}}(p)},[f,g,p,m]}class ci extends dt{constructor(t){super(),ht(this,t,ui,null,s,{bubbles:0,mobile:1,step:2,dimensions:3})}}function hi(t,e,n){const i=t.slice();return i[24]=e[n].x,i[25]=e[n].y,i[26]=e[n].r,i[27]=e[n].fill,i[28]=e[n].fillOpacity,i[29]=e[n].stroke,i[30]=e[n].strokeOpacity,i[31]=e[n].id,i[32]=e[n].category,i[34]=n,i}function di(t){let e,n,i,r,o,a,s,l;return{c(){e=k("circle"),E(e,"cx",n=t[24]),E(e,"cy",i=t[25]),E(e,"r",r=t[26]),E(e,"fill",o=t[27]),E(e,"fill-opacity",a=t[28]),E(e,"stroke",s=t[29]),E(e,"stroke-opacity",l=t[30])},m(t,n){x(t,e,n)},p(t,u){128&u[0]&&n!==(n=t[24])&&E(e,"cx",n),128&u[0]&&i!==(i=t[25])&&E(e,"cy",i),128&u[0]&&r!==(r=t[26])&&E(e,"r",r),128&u[0]&&o!==(o=t[27])&&E(e,"fill",o),128&u[0]&&a!==(a=t[28])&&E(e,"fill-opacity",a),128&u[0]&&s!==(s=t[29])&&E(e,"stroke",s),128&u[0]&&l!==(l=t[30])&&E(e,"stroke-opacity",l)},d(t){t&&b(e)}}}function fi(t){let e,n=!t[5]||"black"==t[32]&&Math.round(t[8])>t[31]||"white"==t[32]&&Math.round(t[9])>t[31],i=n&&di(t);return{c(){i&&i.c(),e=A()},m(t,n){i&&i.m(t,n),x(t,e,n)},p(t,r){928&r[0]&&(n=!t[5]||"black"==t[32]&&Math.round(t[8])>t[31]||"white"==t[32]&&Math.round(t[9])>t[31]),n?i?i.p(t,r):(i=di(t),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null)},d(t){i&&i.d(t),t&&b(e)}}}function gi(t){let e,n,i,r=t[7],o=[];for(let e=0;e<r.length;e+=1)o[e]=fi(hi(t,r,e));const a=new ci({props:{bubbles:t[4],step:t[1],dimensions:[t[2],t[3]],mobile:t[0]}});return a.$on("message",t[15]),{c(){e=k("g");for(let t=0;t<o.length;t+=1)o[t].c();n=N(),st(a.$$.fragment),E(e,"class","bubbles"),R(e,"opacity",t[6])},m(t,r){x(t,e,r);for(let t=0;t<o.length;t+=1)o[t].m(e,null);x(t,n,r),lt(a,t,r),i=!0},p(t,n){if(928&n[0]){let i;for(r=t[7],i=0;i<r.length;i+=1){const a=hi(t,r,i);o[i]?o[i].p(a,n):(o[i]=fi(a),o[i].c(),o[i].m(e,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}(!i||64&n[0])&&R(e,"opacity",t[6]);const s={};16&n[0]&&(s.bubbles=t[4]),2&n[0]&&(s.step=t[1]),12&n[0]&&(s.dimensions=[t[2],t[3]]),1&n[0]&&(s.mobile=t[0]),a.$set(s)},i(t){i||(it(a.$$.fragment,t),i=!0)},o(t){rt(a.$$.fragment,t),i=!1},d(t){t&&b(e),$(o,t),t&&b(n),ut(a,t)}}}function pi(t){let e;const n=new xn({props:{annotations:t[10],datum:t[5]}});return{c(){st(n.$$.fragment)},m(t,i){lt(n,t,i),e=!0},p(t,e){const i={};32&e[0]&&(i.datum=t[5]),n.$set(i)},i(t){e||(it(n.$$.fragment,t),e=!0)},o(t){rt(n.$$.fragment,t),e=!1},d(t){ut(n,t)}}}function mi(t){let e,n;const i=new un({props:{$$slots:{default:[gi]},$$scope:{ctx:t}}}),r=new an({props:{$$slots:{default:[pi]},$$scope:{ctx:t}}});return{c(){st(i.$$.fragment),e=N(),st(r.$$.fragment)},m(t,o){lt(i,t,o),x(t,e,o),lt(r,t,o),n=!0},p(t,e){const n={};1023&e[0]|16&e[1]&&(n.$$scope={dirty:e,ctx:t}),i.$set(n);const o={};32&e[0]|16&e[1]&&(o.$$scope={dirty:e,ctx:t}),r.$set(o)},i(t){n||(it(i.$$.fragment,t),it(r.$$.fragment,t),n=!0)},o(t){rt(i.$$.fragment,t),rt(r.$$.fragment,t),n=!1},d(t){ut(i,t),t&&b(e),ut(r,t)}}}function yi(t){let e,n;const i=new nn({props:{data:t[5],$$slots:{default:[mi]},$$scope:{ctx:t}}});return{c(){e=M("div"),st(i.$$.fragment),E(e,"class","chart-container")},m(t,r){x(t,e,r),lt(i,e,null),n=!0},p(t,e){const n={};32&e[0]&&(n.data=t[5]),1023&e[0]|16&e[1]&&(n.$$scope={dirty:e,ctx:t}),i.$set(n)},i(t){n||(it(i.$$.fragment,t),n=!0)},o(t){rt(i.$$.fragment,t),n=!1},d(t){t&&b(e),ut(i)}}}function vi(t,e,n){let i,r,o,a,{data:s=[]}=e,{mobile:l=!1}=e,{step:c}=e,{display:h}=e,{innerWidth:d}=e,{innerHeight:f}=e;const g=["#212529","#FFF"],p=s.map(t=>({indicator:t.indicator,unit:t.unit,source:t.source,index:t.index,top:l?"5vh":"15vh",left:"10vw",width:"80vw","text-align":l?"":"center"})),m={duration:500,easing:cn},y={duration:1e3,easing:cn},v={duration:3e3,easing:cn};let w=0,x=Array.from({length:200},(t,e)=>({x:e<100?d+Math.random()*d/2:-d-Math.random()*d/2,y:l?f:Math.random()*f/2,r:5,fill:e<100?g[0]:g[1],fillOpacity:1,stroke:e<100?g[1]:g[0],strokeOpacity:1,id:e%100,category:e<100?"black":"white"}));const b=fn(w,m);u(t,b,t=>n(6,i=t));const $=fn(x,y);u(t,$,t=>n(7,r=t));const M=fn(0,v);u(t,M,t=>n(8,o=t));const k=fn(0,v);let _;return u(t,k,t=>n(9,a=t)),t.$set=t=>{"data"in t&&n(16,s=t.data),"mobile"in t&&n(0,l=t.mobile),"step"in t&&n(1,c=t.step),"display"in t&&n(17,h=t.display),"innerWidth"in t&&n(2,d=t.innerWidth),"innerHeight"in t&&n(3,f=t.innerHeight)},t.$$.update=()=>{131072&t.$$.dirty[0]&&n(18,w=h?1:0),262144&t.$$.dirty[0]&&b.set(w),16&t.$$.dirty[0]&&$.set(x),65538&t.$$.dirty[0]&&n(5,_=s.find(t=>t.index==c)),32&t.$$.dirty[0]&&function(t){M.set(t?+t.black:100),k.set(t?+t.white:100)}(_)},[l,c,d,f,x,_,i,r,o,a,p,b,$,M,k,function(t){n(4,x=t.detail)},s,h]}class wi extends dt{constructor(t){super(),ht(this,t,vi,yi,s,{data:16,mobile:0,step:1,display:17,innerWidth:2,innerHeight:3},[-1,-1])}}function xi(t){let e;const n=new wi({props:{mobile:!0,data:ft,step:t[4],display:t[5],innerWidth:t[2],innerHeight:t[3]}});return{c(){st(n.$$.fragment)},m(t,i){lt(n,t,i),e=!0},p(t,e){const i={};16&e&&(i.step=t[4]),32&e&&(i.display=t[5]),4&e&&(i.innerWidth=t[2]),8&e&&(i.innerHeight=t[3]),n.$set(i)},i(t){e||(it(n.$$.fragment,t),e=!0)},o(t){rt(n.$$.fragment,t),e=!1},d(t){ut(n,t)}}}function bi(t){let e;const n=new wi({props:{mobile:!1,data:ft,step:t[4],display:t[5],innerWidth:t[2],innerHeight:t[3]}});return{c(){st(n.$$.fragment)},m(t,i){lt(n,t,i),e=!0},p(t,e){const i={};16&e&&(i.step=t[4]),32&e&&(i.display=t[5]),4&e&&(i.innerWidth=t[2]),8&e&&(i.innerHeight=t[3]),n.$set(i)},i(t){e||(it(n.$$.fragment,t),e=!0)},o(t){rt(n.$$.fragment,t),e=!1},d(t){ut(n,t)}}}function $i(t){let e,n,i,r,o,a,s,l;K(t[7]),document.title=e=t[1];const u=[bi,xi],c=[];function h(t,e){return t[2]>Mi?0:t[2]<=Mi?1:-1}return~(o=h(t))&&(a=c[o]=u[o](t)),{c(){n=N(),i=M("div"),r=M("div"),a&&a.c(),E(r,"class","background svelte-1a0ly96"),E(i,"class","embed-container svelte-1a0ly96"),S(i,"styleNs",t[0])},m(e,a){var u,h,d,f;x(e,n,a),x(e,i,a),w(i,r),~o&&c[o].m(r,null),s=!0,u=window,h="resize",d=t[7],u.addEventListener(h,d,f),l=()=>u.removeEventListener(h,d,f)},p(t,[n]){(!s||2&n)&&e!==(e=t[1])&&(document.title=e);let l=o;o=h(t),o===l?~o&&c[o].p(t,n):(a&&(et(),rt(c[l],1,1,()=>{c[l]=null}),nt()),~o?(a=c[o],a||(a=c[o]=u[o](t),a.c()),it(a,1),a.m(r,null)):a=null),1&n&&S(i,"styleNs",t[0])},i(t){s||(it(a),s=!0)},o(t){rt(a),s=!1},d(t){t&&b(n),t&&b(i),~o&&c[o].d(),l()}}}const Mi=500;function ki(t,e,n){let i,r,o,a,{pymChild:s={}}=e,{styleNs:l=!1}=e,{title:u="NSMG-016"}=e;var c;return c=()=>{s.sendHeight(),s.sendMessage("childLoaded","ready"),s.onMessage("step",t=>n(4,o=+t)),s.onMessage("display",t=>n(5,a=JSON.parse(t)))},W().$$.on_mount.push(c),t.$set=t=>{"pymChild"in t&&n(6,s=t.pymChild),"styleNs"in t&&n(0,l=t.styleNs),"title"in t&&n(1,u=t.title)},t.$$.update=()=>{48&t.$$.dirty&&n(4,o=a?o:void 0),16&t.$$.dirty&&console.log("step",o)},[l,u,i,r,o,a,s,function(){n(2,i=window.innerWidth),n(3,r=window.innerHeight)}]}var _i=new(function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t){
/*! pym.js - v1.3.2 - 2018-02-13 */
!function(e){t.exports?t.exports=e():window.pym=e.call(this)}((function(){var t={},e=function(t){var e=document.createEvent("Event");e.initEvent("pym:"+t,!0,!0),document.dispatchEvent(e)},n=function(t){var e=new RegExp("[\\?&]"+t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]")+"=([^&#]*)").exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))},i=function(t,e){if(("*"===e.xdomain||t.origin.match(new RegExp(e.xdomain+"$")))&&"string"==typeof t.data)return!0},r=function(t,e,n){return["pym",t,e,n].join("xPYMx")},o=Date.now||function(){return(new Date).getTime()},a=function(){for(var e=t.autoInitInstances.length-1;e>=0;e--){var n=t.autoInitInstances[e];n.el.getElementsByTagName("iframe").length&&n.el.getElementsByTagName("iframe")[0].contentWindow||t.autoInitInstances.splice(e,1)}};return t.autoInitInstances=[],t.autoInit=function(n){var i=document.querySelectorAll("[data-pym-src]:not([data-pym-auto-initialized])"),r=i.length;a();for(var o=0;o<r;++o){var s=i[o];s.setAttribute("data-pym-auto-initialized",""),""===s.id&&(s.id="pym-"+o+"-"+Math.random().toString(36).substr(2,5));var l=s.getAttribute("data-pym-src"),u={xdomain:"string",title:"string",name:"string",id:"string",sandbox:"string",allowfullscreen:"boolean",parenturlparam:"string",parenturlvalue:"string",optionalparams:"boolean",trackscroll:"boolean",scrollwait:"number"},c={};for(var h in u)if(null!==s.getAttribute("data-pym-"+h))switch(u[h]){case"boolean":c[h]=!("false"===s.getAttribute("data-pym-"+h));break;case"string":c[h]=s.getAttribute("data-pym-"+h);break;case"number":var d=Number(s.getAttribute("data-pym-"+h));isNaN(d)||(c[h]=d);break;default:console.err("unrecognized attribute type")}var f=new t.Parent(s.id,l,c);t.autoInitInstances.push(f)}return n||e("pym-initialized"),t.autoInitInstances},t.Parent=function(t,e,n){for(var s in this.id=t,this.url=e,this.el=document.getElementById(t),this.iframe=null,this.settings={xdomain:"*",optionalparams:!0,parenturlparam:"parentUrl",parenturlvalue:window.location.href,trackscroll:!1,scrollwait:100},this.messageRegex=function(t){return new RegExp("^"+["pym",t,"(\\S+)","(.*)"].join("xPYMx")+"$")}(this.id),this.messageHandlers={},n=n||{},this._constructIframe=function(){var t=this.el.offsetWidth.toString();this.iframe=document.createElement("iframe");var e="",n=this.url.indexOf("#");for(n>-1&&(e=this.url.substring(n,this.url.length),this.url=this.url.substring(0,n)),this.url.indexOf("?")<0?this.url+="?":this.url+="&",this.iframe.src=this.url+"initialWidth="+t+"&childId="+this.id,this.settings.optionalparams&&(this.iframe.src+="&parentTitle="+encodeURIComponent(document.title),this.iframe.src+="&"+this.settings.parenturlparam+"="+encodeURIComponent(this.settings.parenturlvalue)),this.iframe.src+=e,this.iframe.setAttribute("width","100%"),this.iframe.setAttribute("scrolling","no"),this.iframe.setAttribute("marginheight","0"),this.iframe.setAttribute("frameborder","0"),this.settings.title&&this.iframe.setAttribute("title",this.settings.title),void 0!==this.settings.allowfullscreen&&!1!==this.settings.allowfullscreen&&this.iframe.setAttribute("allowfullscreen",""),void 0!==this.settings.sandbox&&"string"==typeof this.settings.sandbox&&this.iframe.setAttribute("sandbox",this.settings.sandbox),this.settings.id&&(document.getElementById(this.settings.id)||this.iframe.setAttribute("id",this.settings.id)),this.settings.name&&this.iframe.setAttribute("name",this.settings.name);this.el.firstChild;)this.el.removeChild(this.el.firstChild);this.el.appendChild(this.iframe),window.addEventListener("resize",this._onResize),this.settings.trackscroll&&window.addEventListener("scroll",this._throttleOnScroll)},this._onResize=function(){this.sendWidth(),this.settings.trackscroll&&this.sendViewportAndIFramePosition()}.bind(this),this._onScroll=function(){this.sendViewportAndIFramePosition()}.bind(this),this._fire=function(t,e){if(t in this.messageHandlers)for(var n=0;n<this.messageHandlers[t].length;n++)this.messageHandlers[t][n].call(this,e)},this.remove=function(){window.removeEventListener("message",this._processMessage),window.removeEventListener("resize",this._onResize),this.el.removeChild(this.iframe),a()},this._processMessage=function(t){if(i(t,this.settings)&&"string"==typeof t.data){var e=t.data.match(this.messageRegex);if(!e||3!==e.length)return!1;var n=e[1],r=e[2];this._fire(n,r)}}.bind(this),this._onHeightMessage=function(t){var e=parseInt(t);this.iframe.setAttribute("height",e+"px")},this._onNavigateToMessage=function(t){(function(t){if(t.match(/^(?:(?:https?|mailto|ftp):|[^&:/?#]*(?:[/?#]|$))/gi))return!0})(t)&&(document.location.href=t)},this._onScrollToChildPosMessage=function(t){var e=document.getElementById(this.id).getBoundingClientRect().top+window.pageYOffset+parseInt(t);window.scrollTo(0,e)},this.onMessage=function(t,e){t in this.messageHandlers||(this.messageHandlers[t]=[]),this.messageHandlers[t].push(e)},this.sendMessage=function(t,e){this.el.getElementsByTagName("iframe").length&&(this.el.getElementsByTagName("iframe")[0].contentWindow?this.el.getElementsByTagName("iframe")[0].contentWindow.postMessage(r(this.id,t,e),"*"):this.remove())},this.sendWidth=function(){var t=this.el.offsetWidth.toString();this.sendMessage("width",t)},this.sendViewportAndIFramePosition=function(){var t=this.iframe.getBoundingClientRect(),e=(window.innerWidth||document.documentElement.clientWidth)+" "+(window.innerHeight||document.documentElement.clientHeight);e+=" "+t.top+" "+t.left,e+=" "+t.bottom+" "+t.right,this.sendMessage("viewport-iframe-position",e)},n)this.settings[s]=n[s];return this._throttleOnScroll=function(t,e,n){var i,r,a,s=null,l=0;n||(n={});var u=function(){l=!1===n.leading?0:o(),s=null,a=t.apply(i,r),s||(i=r=null)};return function(){var c=o();l||!1!==n.leading||(l=c);var h=e-(c-l);return i=this,r=arguments,h<=0||h>e?(s&&(clearTimeout(s),s=null),l=c,a=t.apply(i,r),s||(i=r=null)):s||!1===n.trailing||(s=setTimeout(u,h)),a}}(this._onScroll.bind(this),this.settings.scrollwait),this.onMessage("height",this._onHeightMessage),this.onMessage("navigateTo",this._onNavigateToMessage),this.onMessage("scrollToChildPos",this._onScrollToChildPosMessage),this.onMessage("parentPositionInfo",this.sendViewportAndIFramePosition),window.addEventListener("message",this._processMessage,!1),this._constructIframe(),this},t.Child=function(t){this.parentWidth=null,this.id=null,this.parentTitle=null,this.parentUrl=null,this.settings={renderCallback:null,xdomain:"*",polling:0,parenturlparam:"parentUrl"},this.timerId=null,this.messageRegex=null,this.messageHandlers={},t=t||{},this.onMessage=function(t,e){t in this.messageHandlers||(this.messageHandlers[t]=[]),this.messageHandlers[t].push(e)},this._fire=function(t,e){if(t in this.messageHandlers)for(var n=0;n<this.messageHandlers[t].length;n++)this.messageHandlers[t][n].call(this,e)},this._processMessage=function(t){if(i(t,this.settings)&&"string"==typeof t.data){var e=t.data.match(this.messageRegex);if(e&&3===e.length){var n=e[1],r=e[2];this._fire(n,r)}}}.bind(this),this._onWidthMessage=function(t){var e=parseInt(t);e!==this.parentWidth&&(this.parentWidth=e,this.settings.renderCallback&&this.settings.renderCallback(e),this.sendHeight())},this.sendMessage=function(t,e){window.parent.postMessage(r(this.id,t,e),"*")},this.sendHeight=function(){var t=document.getElementsByTagName("body")[0].offsetHeight.toString();return this.sendMessage("height",t),t}.bind(this),this.getParentPositionInfo=function(){this.sendMessage("parentPositionInfo")},this.scrollParentTo=function(t){this.sendMessage("navigateTo","#"+t)},this.navigateParentTo=function(t){this.sendMessage("navigateTo",t)},this.scrollParentToChildEl=function(t){var e=document.getElementById(t).getBoundingClientRect().top+window.pageYOffset;this.scrollParentToChildPos(e)},this.scrollParentToChildPos=function(t){this.sendMessage("scrollToChildPos",t.toString())};for(var o in this.remove=function(){window.removeEventListener("message",this._processMessage),this.timerId&&clearInterval(this.timerId)},t)this.settings[o]=t[o];this.id=n("childId")||t.id,this.messageRegex=new RegExp("^pymxPYMx"+this.id+"xPYMx(\\S+)xPYMx(.*)$");var a=parseInt(n("initialWidth"));return this.parentUrl=n(this.settings.parenturlparam),this.parentTitle=n("parentTitle"),this.onMessage("width",this._onWidthMessage),window.addEventListener("message",this._processMessage,!1),this.settings.renderCallback&&this.settings.renderCallback(a),this.sendHeight(),this.settings.polling&&(this.timerId=window.setInterval(this.sendHeight,this.settings.polling)),function(t){var n,i=document.getElementsByTagName("html")[0],r=i.className;try{n=window.self!==window.top?"embedded":"not-embedded"}catch(t){n="embedded"}r.indexOf(n)<0&&(i.className=r?r+" "+n:n,t&&t(n),e("marked-embedded"))}(t.onMarkedEmbeddedStatus),this},"undefined"!=typeof document&&t.autoInit(!0),t}))})).Child);return new class extends dt{constructor(t){super(),ht(this,t,ki,$i,s,{pymChild:6,styleNs:0,title:1})}}({target:document.body,props:{pymChild:_i}})}();
//# sourceMappingURL=bundle.js.map
